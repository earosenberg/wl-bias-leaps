* TODO Week 02/07-06/07

** Upload to github
** Use more realistic distributions of flux and ellipticity. 
Use more realistic distributions of flux and ellipticity. Can still calculate separately for each SNR but combine to get m for all snrs
** Do weighted average over all SNR to find g hat, then find error on m
Fix a noise level sigma_N, use flux values such that SNR is 5-200. weights = 1/(shape noise^2 + shape_err^2). shape_err is from estimate shear. 
shape noise: variance of ellipticities: for now input ellipticities

** use the 3 g2=0 points for m1 calc, vice versa for m2 calc. To look for cross term, x, sqrt(2)


** Test

** Use fits or ascii for saving instead of pickle
** Output catalog with measured ellipticity, size







** DONE Get mean from bootstrap, compare to true mean

** DONE Use same seed each time for bootstrap
** DONE Implement better bootstrap algorithm
** DONE Let galsim choose postage stamp size (02-07-18)
** DONE Stop averaging over g1, g2 (02-07-18)
** DONE Convert to chi type manually
 w/ last eq before sec 2.2 of Mandelbaum Great3
** DONE Get error on m
Use bootstrap nlog^2(n)
** DONE Make catalog, read from it
Gal ID, Flux/magnitude, size, sersic n, intrinsic ellipticity
** DONE Plotting stuff..
** DONE Keep rotated galaxies together when bootstrapping
** DONE If any rotations of a single galaxy are nan, make all rotations nan



